# Should have one source for each type
sources:
- type: beacon_360
  org_id: my_beacon_utility
  timezone: America/Los_Angeles
  use_raw_data_cache: False
  sinks:
  - my_snowflake_instance
- type: sentryx
  org_id: my_sentryx_utility
  timezone: America/Los_Angeles
  utility_name: "my-sentryx-utility"
  use_raw_data_cache: False
  sinks:
  - my_snowflake_instance
- type: subeca
  org_id: my_subeca_utility
  timezone: America/Los_Angeles
  api_url: my-url
  sinks:
  - my_snowflake_instance
- type: aclara
  org_id: my_aclara_utility
  timezone: America/Los_Angeles
  sftp_host: example.com
  sftp_remote_data_directory: ./data
  sftp_local_download_directory: ./output
  sftp_known_hosts_str: example.com ssh-rsa abc
  sinks:
  - my_snowflake_instance
- type: metersense
  org_id: my_metersense_utility
  timezone: America/Los_Angeles
  ssh_tunnel_server_host: tunnel-ip
  ssh_tunnel_key_path: /key
  database_host: db-host
  database_port: 1521
  sinks:
  - my_snowflake_instance
- type: xylem_moulton_niguel
  org_id: my_xylem_moulton_niguel_utility
  timezone: America/Los_Angeles
  ssh_tunnel_server_host: tunnel-ip
  ssh_tunnel_key_path: /key
  database_host: db-host
  database_port: 1521
  sinks:
  - my_snowflake_instance
- type: xylem_sensus
  org_id: my_xylem_sensus_utility
  timezone: America/Los_Angeles
  sftp_host: example.com
  sftp_remote_data_directory: ./data
  sftp_local_download_directory: ./output
  sftp_known_hosts_str:
  sinks:
  - my_snowflake_instance

sinks:
- type: snowflake
  id: my_snowflake_instance
  checks:
  - snowflake-meters-unique-by-device-id

task_output:
  type: s3
  bucket: my-bucket

notifications:
  dag_failure:
    sns_arn: my-sns-arn

backfills:
- org_id: my_aclara_utility
  start_date: 2023-01-01
  end_date: 2025-07-05
  interval_days: 3
  schedule: "45 */2 * * *"